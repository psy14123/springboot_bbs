2018-12-28 11:29:46.337  INFO 108 --- [restartedMain] cn.psy.homework11.Homework11Application  : Starting Homework11Application on nkgw10nh1408 with PID 108 (D:\idea_workspace\homework11\target\classes started by Aaron.Peng in D:\idea_workspace\homework11)
2018-12-28 11:29:46.337 DEBUG 108 --- [restartedMain] cn.psy.homework11.Homework11Application  : Running with Spring Boot v2.1.1.RELEASE, Spring v5.1.3.RELEASE
2018-12-28 11:29:46.353  INFO 108 --- [restartedMain] cn.psy.homework11.Homework11Application  : No active profile set, falling back to default profiles: default
2018-12-28 11:29:46.527  INFO 108 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2018-12-28 11:29:46.529  INFO 108 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2018-12-28 11:29:47.971  INFO 108 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-28 11:29:47.986  INFO 108 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2018-12-28 11:29:48.049  INFO 108 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 0 repository interfaces.
2018-12-28 11:29:48.627  INFO 108 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [cn.psy.homework11.util.RedisConfig$$EnhancerBySpringCGLIB$$3fa94574] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 11:29:48.643  INFO 108 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$516b03fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 11:29:49.252  INFO 108 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-12-28 11:29:49.283  INFO 108 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-12-28 11:29:49.283  INFO 108 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2018-12-28 11:29:49.283  INFO 108 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;"C:\ProgramData\Oracle\Java\javapath;";C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Intel\WiFi\bin\;C:\Program Files\Common Files\Intel\WirelessCommon\;C:\Program Files\Git\cmd;C:\Program Files\MySQL\MySQL Utilities 1.6\;E:\Apache\apache-maven-3.6.0\bin\;"C:\Program Files\Java\jdk1.8.0_162\bin;C:\Program Files\Java\jdk1.8.0_162\jre\bin;";C:\Users\Aaron.peng\AppData\Local\Microsoft\WindowsApps;C:\Users\Aaron.peng\AppData\Local\GitHubDesktop\bin;.]
2018-12-28 11:29:49.502  INFO 108 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-12-28 11:29:49.502  INFO 108 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2973 ms
2018-12-28 11:29:49.990  INFO 108 --- [restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2018-12-28 11:29:50.334  INFO 108 --- [restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-12-28 11:29:51.069  INFO 108 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2018-12-28 11:29:51.241  WARN 108 --- [restartedMain] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][restartedMain] Template Mode 'LEGACYHTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-12-28 11:29:51.758  INFO 108 --- [restartedMain] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2018-12-28 11:29:51.758  INFO 108 --- [restartedMain] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2018-12-28 11:29:52.336  INFO 108 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2018-12-28 11:29:53.019  INFO 108 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-12-28 11:29:53.066  INFO 108 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-12-28 11:29:53.066  INFO 108 --- [restartedMain] cn.psy.homework11.Homework11Application  : Started Homework11Application in 7.829 seconds (JVM running for 9.581)
2018-12-28 11:30:15.847  INFO 108 --- [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-28 11:30:15.847  INFO 108 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2018-12-28 11:30:15.863  INFO 108 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2018-12-28 11:30:15.988 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.UserDAO.queryUserByTel         : ==>  Preparing: select * from user where tel=? 
2018-12-28 11:30:16.019 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.UserDAO.queryUserByTel         : ==> Parameters: 17856690931(String)
2018-12-28 11:30:16.066 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.UserDAO.queryUserByTel         : <==      Total: 1
2018-12-28 11:30:16.081 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 11:30:16.081 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 2(Integer)
2018-12-28 11:30:16.081 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 11:30:16.166 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryRoleById          : ==>  Preparing: select * from role where id=? 
2018-12-28 11:30:16.166 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryRoleById          : ==> Parameters: 2(Integer)
2018-12-28 11:30:16.168 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryRoleById          : <==      Total: 1
2018-12-28 11:30:16.175 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 11:30:16.175 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 2(Integer)
2018-12-28 11:30:16.177 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 11:30:16.188 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.MessageDAO.queryAllMessages    : ==>  Preparing: select * from message m left join reply r on m.id=r.message_id group by m.id order by r.reply_time desc 
2018-12-28 11:30:16.189 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.MessageDAO.queryAllMessages    : ==> Parameters: 
2018-12-28 11:30:16.191 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.dao.MessageDAO.queryAllMessages    : <==      Total: 1
2018-12-28 11:30:16.642 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==>  Preparing: select max(reply_time) from reply where message_id=? 
2018-12-28 11:30:16.642 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==> Parameters: 34(String)
2018-12-28 11:30:16.646 DEBUG 108 --- [http-nio-8080-exec-3] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : <==      Total: 1
2018-12-28 11:30:41.469 DEBUG 108 --- [http-nio-8080-exec-2] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 11:30:41.472 DEBUG 108 --- [http-nio-8080-exec-2] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 11:30:41.477 DEBUG 108 --- [http-nio-8080-exec-2] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 11:30:41.491 DEBUG 108 --- [http-nio-8080-exec-2] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==>  Preparing: select * from reply where message_id=? 
2018-12-28 11:30:41.493 DEBUG 108 --- [http-nio-8080-exec-2] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==> Parameters: 34(Integer)
2018-12-28 11:30:41.496 DEBUG 108 --- [http-nio-8080-exec-2] c.p.h.dao.ReplyDAO.queryReplyByMessage   : <==      Total: 1
2018-12-28 11:30:43.649 DEBUG 108 --- [http-nio-8080-exec-4] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 11:30:43.650 DEBUG 108 --- [http-nio-8080-exec-4] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 11:30:43.653 DEBUG 108 --- [http-nio-8080-exec-4] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 11:30:44.721 DEBUG 108 --- [http-nio-8080-exec-6] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 11:30:44.723 DEBUG 108 --- [http-nio-8080-exec-6] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 11:30:44.726 DEBUG 108 --- [http-nio-8080-exec-6] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 11:30:44.732 DEBUG 108 --- [http-nio-8080-exec-5] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 11:30:44.733 DEBUG 108 --- [http-nio-8080-exec-5] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 11:30:44.735 DEBUG 108 --- [http-nio-8080-exec-5] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 11:30:44.743 DEBUG 108 --- [http-nio-8080-exec-4] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==>  Preparing: select * from reply where message_id=? 
2018-12-28 11:30:44.744 DEBUG 108 --- [http-nio-8080-exec-4] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==> Parameters: 34(Integer)
2018-12-28 11:30:44.748 DEBUG 108 --- [http-nio-8080-exec-4] c.p.h.dao.ReplyDAO.queryReplyByMessage   : <==      Total: 1
2018-12-28 11:30:44.748 DEBUG 108 --- [http-nio-8080-exec-6] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==>  Preparing: select * from reply where message_id=? 
2018-12-28 11:30:44.749 DEBUG 108 --- [http-nio-8080-exec-6] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==> Parameters: 34(Integer)
2018-12-28 11:30:44.752 DEBUG 108 --- [http-nio-8080-exec-6] c.p.h.dao.ReplyDAO.queryReplyByMessage   : <==      Total: 1
2018-12-28 11:30:44.760 DEBUG 108 --- [http-nio-8080-exec-5] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==>  Preparing: select * from reply where message_id=? 
2018-12-28 11:30:44.761 DEBUG 108 --- [http-nio-8080-exec-5] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==> Parameters: 34(Integer)
2018-12-28 11:30:44.763 DEBUG 108 --- [http-nio-8080-exec-5] c.p.h.dao.ReplyDAO.queryReplyByMessage   : <==      Total: 1
2018-12-28 11:30:44.774 DEBUG 108 --- [http-nio-8080-exec-1] c.p.h.d.M.queryMessagesByAuthor          : ==>  Preparing: select * from message where author=? 
2018-12-28 11:30:44.782 DEBUG 108 --- [http-nio-8080-exec-1] c.p.h.d.M.queryMessagesByAuthor          : ==> Parameters: 彭思远(String)
2018-12-28 11:30:44.787 DEBUG 108 --- [http-nio-8080-exec-1] c.p.h.d.M.queryMessagesByAuthor          : <==      Total: 1
2018-12-28 13:56:04.033  INFO 3904 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Starting MessageServiceImplTest on nkgw10nh1408 with PID 3904 (started by Aaron.Peng in D:\idea_workspace\homework11)
2018-12-28 13:56:04.033 DEBUG 3904 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Running with Spring Boot v2.1.1.RELEASE, Spring v5.1.3.RELEASE
2018-12-28 13:56:04.033  INFO 3904 --- [main] c.p.h.S.impl.MessageServiceImplTest      : No active profile set, falling back to default profiles: default
2018-12-28 13:56:05.960  INFO 3904 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-28 13:56:05.960  INFO 3904 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2018-12-28 13:56:06.101  INFO 3904 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63ms. Found 0 repository interfaces.
2018-12-28 13:56:06.993  INFO 3904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [cn.psy.homework11.util.RedisConfig$$EnhancerBySpringCGLIB$$4db87ac7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 13:56:07.008  INFO 3904 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5f7a394e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 13:56:07.258  INFO 3904 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2018-12-28 13:56:08.192  INFO 3904 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-12-28 13:56:11.465  INFO 3904 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2018-12-28 13:56:11.856  WARN 3904 --- [main] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][main] Template Mode 'LEGACYHTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-12-28 13:56:12.942  INFO 3904 --- [main] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2018-12-28 13:56:12.945  INFO 3904 --- [main] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2018-12-28 13:56:14.610  INFO 3904 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-12-28 13:56:14.610  INFO 3904 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Started MessageServiceImplTest in 11.985 seconds (JVM running for 14.656)
2018-12-28 13:56:14.766  INFO 3904 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@7eb27768, testMethod = updateMessageById@MessageServiceImplTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@55361f03]; rollback [true]
2018-12-28 13:56:15.110 DEBUG 3904 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 13:56:15.172 DEBUG 3904 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 13:56:15.219 DEBUG 3904 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 13:56:15.219 DEBUG 3904 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : ==>  Preparing: update message SET title=?,article=?,user_id=?,author=?,time=?,reply_count=? where id=? 
2018-12-28 13:56:15.219 DEBUG 3904 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : ==> Parameters: ad(String), ad(String), 23(Integer), ads(String), 2018-12-28 13:56:15.219(Timestamp), 3(Integer), 34(Integer)
2018-12-28 13:56:15.466  INFO 3904 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@7eb27768, testMethod = updateMessageById@MessageServiceImplTest, testException = org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`final`.`message`, CONSTRAINT `message_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE)
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: update message SET title=?,article=?,user_id=?,author=?,time=?,reply_count=?      where id=?
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`final`.`message`, CONSTRAINT `message_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE)
; Cannot add or update a child row: a foreign key constraint fails (`final`.`message`, CONSTRAINT `message_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`final`.`message`, CONSTRAINT `message_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE), mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2018-12-28 13:56:15.513  INFO 3904 --- [Thread-3] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2018-12-28 13:56:16.702  INFO 3904 --- [Thread-3] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-12-28 14:01:35.997  INFO 3400 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Starting MessageServiceImplTest on nkgw10nh1408 with PID 3400 (started by Aaron.Peng in D:\idea_workspace\homework11)
2018-12-28 14:01:35.997 DEBUG 3400 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Running with Spring Boot v2.1.1.RELEASE, Spring v5.1.3.RELEASE
2018-12-28 14:01:35.997  INFO 3400 --- [main] c.p.h.S.impl.MessageServiceImplTest      : No active profile set, falling back to default profiles: default
2018-12-28 14:01:37.868  INFO 3400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-28 14:01:37.868  INFO 3400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2018-12-28 14:01:37.915  INFO 3400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31ms. Found 0 repository interfaces.
2018-12-28 14:01:38.787  INFO 3400 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [cn.psy.homework11.util.RedisConfig$$EnhancerBySpringCGLIB$$4db87ac7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:01:38.803  INFO 3400 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5f7a394e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:01:39.025  INFO 3400 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2018-12-28 14:01:39.810  INFO 3400 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-12-28 14:01:42.345  INFO 3400 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2018-12-28 14:01:42.840  WARN 3400 --- [main] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][main] Template Mode 'LEGACYHTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-12-28 14:01:44.175  INFO 3400 --- [main] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2018-12-28 14:01:44.175  INFO 3400 --- [main] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2018-12-28 14:01:45.747  INFO 3400 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-12-28 14:01:45.763  INFO 3400 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Started MessageServiceImplTest in 11.114 seconds (JVM running for 13.107)
2018-12-28 14:01:45.841  INFO 3400 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@7eb27768, testMethod = updateMessageById@MessageServiceImplTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@55361f03]; rollback [true]
2018-12-28 14:01:46.155 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:01:46.217 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:01:46.264 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 14:01:46.264 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : ==>  Preparing: update message SET title=?,article=?,user_id=?,author=?,time=?,reply_count=? where id=? 
2018-12-28 14:01:46.264 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : ==> Parameters: ad(String), ad(String), 37(Integer), 彭思远(String), 2018-12-28 14:01:46.264(Timestamp), 3(Integer), 34(Integer)
2018-12-28 14:01:46.280 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : <==    Updates: 1
2018-12-28 14:01:46.280 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:01:46.280 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:01:46.280 DEBUG 3400 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 14:01:46.358  INFO 3400 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@7eb27768, testMethod = updateMessageById@MessageServiceImplTest, testException = org.junit.ComparisonFailure: expected:<[数学啥动静啊]> but was:<[ad]>, mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2018-12-28 14:01:46.436  INFO 3400 --- [Thread-3] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2018-12-28 14:01:47.579  INFO 3400 --- [Thread-3] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-12-28 14:02:21.678  INFO 7308 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Starting MessageServiceImplTest on nkgw10nh1408 with PID 7308 (started by Aaron.Peng in D:\idea_workspace\homework11)
2018-12-28 14:02:21.678 DEBUG 7308 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Running with Spring Boot v2.1.1.RELEASE, Spring v5.1.3.RELEASE
2018-12-28 14:02:21.694  INFO 7308 --- [main] c.p.h.S.impl.MessageServiceImplTest      : No active profile set, falling back to default profiles: default
2018-12-28 14:02:23.740  INFO 7308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-28 14:02:23.740  INFO 7308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2018-12-28 14:02:23.802  INFO 7308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31ms. Found 0 repository interfaces.
2018-12-28 14:02:24.678  INFO 7308 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [cn.psy.homework11.util.RedisConfig$$EnhancerBySpringCGLIB$$847faa6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:02:24.694  INFO 7308 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1a09b92d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:02:24.928  INFO 7308 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2018-12-28 14:02:25.727  INFO 7308 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-12-28 14:02:28.438  INFO 7308 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2018-12-28 14:02:29.047  WARN 7308 --- [main] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][main] Template Mode 'LEGACYHTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-12-28 14:02:29.978  INFO 7308 --- [main] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2018-12-28 14:02:29.978  INFO 7308 --- [main] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2018-12-28 14:02:31.466  INFO 7308 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-12-28 14:02:31.482  INFO 7308 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Started MessageServiceImplTest in 11.329 seconds (JVM running for 13.647)
2018-12-28 14:02:31.544  INFO 7308 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@6169be09, testMethod = updateMessageById@MessageServiceImplTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@581c9bb7]; rollback [true]
2018-12-28 14:02:31.888 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:02:31.935 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:02:31.997 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 14:02:31.997 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : ==>  Preparing: update message SET title=?,article=?,user_id=?,author=?,time=?,reply_count=? where id=? 
2018-12-28 14:02:31.997 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : ==> Parameters: ad(String), ad(String), 37(Integer), 彭思远(String), 2018-12-28 14:02:31.997(Timestamp), 3(Integer), 34(Integer)
2018-12-28 14:02:32.044 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.updateMessageById   : <==    Updates: 1
2018-12-28 14:02:32.044 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:02:32.044 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:02:32.060 DEBUG 7308 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 14:02:32.091  INFO 7308 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@6169be09, testMethod = updateMessageById@MessageServiceImplTest, testException = org.junit.ComparisonFailure: expected:<[数学啥动静啊]> but was:<[ad]>, mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2018-12-28 14:02:32.138  INFO 7308 --- [Thread-3] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2018-12-28 14:02:33.266  INFO 7308 --- [Thread-3] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-12-28 14:05:00.527  INFO 7740 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Starting MessageServiceImplTest on nkgw10nh1408 with PID 7740 (started by Aaron.Peng in D:\idea_workspace\homework11)
2018-12-28 14:05:00.527 DEBUG 7740 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Running with Spring Boot v2.1.1.RELEASE, Spring v5.1.3.RELEASE
2018-12-28 14:05:00.527  INFO 7740 --- [main] c.p.h.S.impl.MessageServiceImplTest      : No active profile set, falling back to default profiles: default
2018-12-28 14:05:02.475  INFO 7740 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-28 14:05:02.475  INFO 7740 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2018-12-28 14:05:02.569  INFO 7740 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63ms. Found 0 repository interfaces.
2018-12-28 14:05:03.621  INFO 7740 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [cn.psy.homework11.util.RedisConfig$$EnhancerBySpringCGLIB$$6d600af2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:05:03.636  INFO 7740 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7f21c979] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:05:03.886  INFO 7740 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2018-12-28 14:05:04.902  INFO 7740 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-12-28 14:05:07.327  INFO 7740 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2018-12-28 14:05:07.694  WARN 7740 --- [main] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][main] Template Mode 'LEGACYHTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-12-28 14:05:08.949  INFO 7740 --- [main] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2018-12-28 14:05:08.949  INFO 7740 --- [main] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2018-12-28 14:05:10.335  INFO 7740 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-12-28 14:05:10.366  INFO 7740 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Started MessageServiceImplTest in 11.291 seconds (JVM running for 13.209)
2018-12-28 14:05:10.413  INFO 7740 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@2aea717c, testMethod = deleteMessageById@MessageServiceImplTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@2b6fb197]; rollback [true]
2018-12-28 14:05:10.678 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:05:10.741 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:05:10.788 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 14:05:10.788 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.deleteMessageById   : ==>  Preparing: delete from message where id=? 
2018-12-28 14:05:10.788 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.deleteMessageById   : ==> Parameters: 34(Integer)
2018-12-28 14:05:10.788 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.deleteMessageById   : <==    Updates: 1
2018-12-28 14:05:10.788 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:05:10.788 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:05:10.788 DEBUG 7740 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 0
2018-12-28 14:05:10.866  INFO 7740 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@2aea717c, testMethod = deleteMessageById@MessageServiceImplTest, testException = java.lang.AssertionError: expected:<数学> but was:<null>, mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2018-12-28 14:05:10.928  INFO 7740 --- [Thread-3] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2018-12-28 14:05:12.072  INFO 7740 --- [Thread-3] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-12-28 14:10:31.156  INFO 2480 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Starting MessageServiceImplTest on nkgw10nh1408 with PID 2480 (started by Aaron.Peng in D:\idea_workspace\homework11)
2018-12-28 14:10:31.156 DEBUG 2480 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Running with Spring Boot v2.1.1.RELEASE, Spring v5.1.3.RELEASE
2018-12-28 14:10:31.156  INFO 2480 --- [main] c.p.h.S.impl.MessageServiceImplTest      : No active profile set, falling back to default profiles: default
2018-12-28 14:10:33.113  INFO 2480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-28 14:10:33.129  INFO 2480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2018-12-28 14:10:33.176  INFO 2480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31ms. Found 0 repository interfaces.
2018-12-28 14:10:34.318  INFO 2480 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [cn.psy.homework11.util.RedisConfig$$EnhancerBySpringCGLIB$$15d1cdfa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:10:34.334  INFO 2480 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$27938c81] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:10:34.601  INFO 2480 --- [main] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2018-12-28 14:10:35.399  INFO 2480 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-12-28 14:10:38.252  INFO 2480 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2018-12-28 14:10:38.629  WARN 2480 --- [main] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][main] Template Mode 'LEGACYHTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-12-28 14:10:39.540  INFO 2480 --- [main] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2018-12-28 14:10:39.556  INFO 2480 --- [main] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2018-12-28 14:10:40.959  INFO 2480 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-12-28 14:10:40.974  INFO 2480 --- [main] c.p.h.S.impl.MessageServiceImplTest      : Started MessageServiceImplTest in 11.452 seconds (JVM running for 13.64)
2018-12-28 14:10:41.053  INFO 2480 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@3e53c4ad, testMethod = deleteMessageById@MessageServiceImplTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.jdbc.datasource.DataSourceTransactionManager@7a0ab480]; rollback [true]
2018-12-28 14:10:41.381 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:10:41.460 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:10:41.507 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 14:10:41.507 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.deleteMessageById   : ==>  Preparing: delete from message where id=? 
2018-12-28 14:10:41.507 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.deleteMessageById   : ==> Parameters: 34(Integer)
2018-12-28 14:10:41.523 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.deleteMessageById   : <==    Updates: 1
2018-12-28 14:10:41.523 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:10:41.523 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:10:41.523 DEBUG 2480 --- [main] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 0
2018-12-28 14:10:41.601  INFO 2480 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@34e9fd99 testClass = MessageServiceImplTest, testInstance = cn.psy.homework11.Service.impl.MessageServiceImplTest@3e53c4ad, testMethod = deleteMessageById@MessageServiceImplTest, testException = java.lang.AssertionError: expected:<数学> but was:<null>, mergedContextConfiguration = [WebMergedContextConfiguration@3c41ed1d testClass = MessageServiceImplTest, locations = '{}', classes = '{class cn.psy.homework11.Homework11Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@64f6106c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@cb0ed20, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@25bbf683, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@545997b1], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2018-12-28 14:10:41.632  INFO 2480 --- [Thread-3] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2018-12-28 14:10:42.805  INFO 2480 --- [Thread-3] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2018-12-28 14:11:40.617  INFO 10664 --- [restartedMain] cn.psy.homework11.Homework11Application  : Starting Homework11Application on nkgw10nh1408 with PID 10664 (D:\idea_workspace\homework11\target\classes started by Aaron.Peng in D:\idea_workspace\homework11)
2018-12-28 14:11:40.633 DEBUG 10664 --- [restartedMain] cn.psy.homework11.Homework11Application  : Running with Spring Boot v2.1.1.RELEASE, Spring v5.1.3.RELEASE
2018-12-28 14:11:40.633  INFO 10664 --- [restartedMain] cn.psy.homework11.Homework11Application  : No active profile set, falling back to default profiles: default
2018-12-28 14:11:40.756  INFO 10664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2018-12-28 14:11:40.756  INFO 10664 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2018-12-28 14:11:42.050  INFO 10664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-12-28 14:11:42.050  INFO 10664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2018-12-28 14:11:42.082  INFO 10664 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16ms. Found 0 repository interfaces.
2018-12-28 14:11:42.504  INFO 10664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [cn.psy.homework11.util.RedisConfig$$EnhancerBySpringCGLIB$$7d8e208e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:11:42.519  INFO 10664 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8f4fdf15] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-12-28 14:11:43.015  INFO 10664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2018-12-28 14:11:43.031  INFO 10664 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-12-28 14:11:43.031  INFO 10664 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/9.0.13
2018-12-28 14:11:43.047  INFO 10664 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_162\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;"C:\ProgramData\Oracle\Java\javapath;";C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Intel\WiFi\bin\;C:\Program Files\Common Files\Intel\WirelessCommon\;C:\Program Files\Git\cmd;C:\Program Files\MySQL\MySQL Utilities 1.6\;E:\Apache\apache-maven-3.6.0\bin\;"C:\Program Files\Java\jdk1.8.0_162\bin;C:\Program Files\Java\jdk1.8.0_162\jre\bin;";C:\Users\Aaron.peng\AppData\Local\Microsoft\WindowsApps;C:\Users\Aaron.peng\AppData\Local\GitHubDesktop\bin;.]
2018-12-28 14:11:43.260  INFO 10664 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-12-28 14:11:43.260  INFO 10664 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2504 ms
2018-12-28 14:11:43.714  INFO 10664 --- [restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2018-12-28 14:11:44.058  INFO 10664 --- [restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2018-12-28 14:11:44.675  INFO 10664 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2018-12-28 14:11:44.832  WARN 10664 --- [restartedMain] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][restartedMain] Template Mode 'LEGACYHTML5' is deprecated. Using Template Mode 'HTML' instead.
2018-12-28 14:11:45.192  INFO 10664 --- [restartedMain] io.lettuce.core.EpollProvider            : Starting without optional epoll library
2018-12-28 14:11:45.192  INFO 10664 --- [restartedMain] io.lettuce.core.KqueueProvider           : Starting without optional kqueue library
2018-12-28 14:11:45.598  INFO 10664 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2018-12-28 14:11:46.271  INFO 10664 --- [restartedMain] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-12-28 14:11:46.303  INFO 10664 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2018-12-28 14:11:46.318  INFO 10664 --- [restartedMain] cn.psy.homework11.Homework11Application  : Started Homework11Application in 6.56 seconds (JVM running for 7.807)
2018-12-28 14:12:05.344  INFO 10664 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2018-12-28 14:12:05.344  INFO 10664 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2018-12-28 14:12:05.344  INFO 10664 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2018-12-28 14:12:13.496 DEBUG 10664 --- [http-nio-8080-exec-1] c.p.h.dao.UserDAO.queryUserByTel         : ==>  Preparing: select * from user where tel=? 
2018-12-28 14:12:13.528 DEBUG 10664 --- [http-nio-8080-exec-1] c.p.h.dao.UserDAO.queryUserByTel         : ==> Parameters: 17856690931(String)
2018-12-28 14:12:13.559 DEBUG 10664 --- [http-nio-8080-exec-1] c.p.h.dao.UserDAO.queryUserByTel         : <==      Total: 1
2018-12-28 14:12:13.590 DEBUG 10664 --- [http-nio-8080-exec-1] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:12:13.590 DEBUG 10664 --- [http-nio-8080-exec-1] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 2(Integer)
2018-12-28 14:12:13.590 DEBUG 10664 --- [http-nio-8080-exec-1] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:12:13.672 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryRoleById          : ==>  Preparing: select * from role where id=? 
2018-12-28 14:12:13.673 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryRoleById          : ==> Parameters: 2(Integer)
2018-12-28 14:12:13.675 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryRoleById          : <==      Total: 1
2018-12-28 14:12:13.682 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:12:13.682 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 2(Integer)
2018-12-28 14:12:13.685 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:12:13.695 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.MessageDAO.queryAllMessages    : ==>  Preparing: select * from message m left join reply r on m.id=r.message_id group by m.id order by r.reply_time desc 
2018-12-28 14:12:13.696 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.MessageDAO.queryAllMessages    : ==> Parameters: 
2018-12-28 14:12:13.698 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.MessageDAO.queryAllMessages    : <==      Total: 1
2018-12-28 14:12:13.925 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==>  Preparing: select max(reply_time) from reply where message_id=? 
2018-12-28 14:12:13.926 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==> Parameters: 34(String)
2018-12-28 14:12:13.929 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : <==      Total: 1
2018-12-28 14:12:36.226 DEBUG 10664 --- [http-nio-8080-exec-8] c.p.h.dao.UserDAO.queryUserByTel         : ==>  Preparing: select * from user where tel=? 
2018-12-28 14:12:36.227 DEBUG 10664 --- [http-nio-8080-exec-8] c.p.h.dao.UserDAO.queryUserByTel         : ==> Parameters: 17856690931(String)
2018-12-28 14:12:36.228 DEBUG 10664 --- [http-nio-8080-exec-8] c.p.h.dao.UserDAO.queryUserByTel         : <==      Total: 1
2018-12-28 14:12:36.235 DEBUG 10664 --- [http-nio-8080-exec-8] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:12:36.235 DEBUG 10664 --- [http-nio-8080-exec-8] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 1(Integer)
2018-12-28 14:12:36.237 DEBUG 10664 --- [http-nio-8080-exec-8] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:12:36.263 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.RoleDAO.queryRoleById          : ==>  Preparing: select * from role where id=? 
2018-12-28 14:12:36.263 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.RoleDAO.queryRoleById          : ==> Parameters: 1(Integer)
2018-12-28 14:12:36.265 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.RoleDAO.queryRoleById          : <==      Total: 1
2018-12-28 14:12:36.270 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:12:36.271 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 1(Integer)
2018-12-28 14:12:36.272 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:12:36.277 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.MessageDAO.queryAllMessages    : ==>  Preparing: select * from message m left join reply r on m.id=r.message_id group by m.id order by r.reply_time desc 
2018-12-28 14:12:36.278 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.MessageDAO.queryAllMessages    : ==> Parameters: 
2018-12-28 14:12:36.280 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.MessageDAO.queryAllMessages    : <==      Total: 1
2018-12-28 14:12:36.291 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==>  Preparing: select max(reply_time) from reply where message_id=? 
2018-12-28 14:12:36.292 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==> Parameters: 34(String)
2018-12-28 14:12:36.293 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : <==      Total: 1
2018-12-28 14:12:39.250 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.UserDAO.queryAllUsers          : ==>  Preparing: select * from user 
2018-12-28 14:12:39.251 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.UserDAO.queryAllUsers          : ==> Parameters: 
2018-12-28 14:12:39.253 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.UserDAO.queryAllUsers          : <==      Total: 1
2018-12-28 14:12:39.262 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.RoleDAO.queryAllRoles          : ==>  Preparing: select * from role 
2018-12-28 14:12:39.263 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.RoleDAO.queryAllRoles          : ==> Parameters: 
2018-12-28 14:12:39.265 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.RoleDAO.queryAllRoles          : <==      Total: 2
2018-12-28 14:12:45.064 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryIdByRole          : ==>  Preparing: select id from role where role=? 
2018-12-28 14:12:45.064 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryIdByRole          : ==> Parameters: 普通会员(String)
2018-12-28 14:12:45.066 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.RoleDAO.queryIdByRole          : <==      Total: 1
2018-12-28 14:12:45.095 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.UserDAO.updateRoleByName       : ==>  Preparing: update user SET role_id=? where name=? 
2018-12-28 14:12:45.095 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.UserDAO.updateRoleByName       : ==> Parameters: 2(Integer), 彭思远(String)
2018-12-28 14:12:45.095 DEBUG 10664 --- [http-nio-8080-exec-3] c.p.h.dao.UserDAO.updateRoleByName       : <==    Updates: 1
2018-12-28 14:12:48.290 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.RoleDAO.queryRoleById          : ==>  Preparing: select * from role where id=? 
2018-12-28 14:12:48.291 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.RoleDAO.queryRoleById          : ==> Parameters: 1(Integer)
2018-12-28 14:12:48.294 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.RoleDAO.queryRoleById          : <==      Total: 1
2018-12-28 14:12:48.301 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:12:48.301 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 1(Integer)
2018-12-28 14:12:48.303 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:12:48.308 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.MessageDAO.queryAllMessages    : ==>  Preparing: select * from message m left join reply r on m.id=r.message_id group by m.id order by r.reply_time desc 
2018-12-28 14:12:48.308 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.MessageDAO.queryAllMessages    : ==> Parameters: 
2018-12-28 14:12:48.310 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.dao.MessageDAO.queryAllMessages    : <==      Total: 1
2018-12-28 14:12:48.323 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==>  Preparing: select max(reply_time) from reply where message_id=? 
2018-12-28 14:12:48.323 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==> Parameters: 34(String)
2018-12-28 14:12:48.324 DEBUG 10664 --- [http-nio-8080-exec-4] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : <==      Total: 1
2018-12-28 14:12:59.092 DEBUG 10664 --- [http-nio-8080-exec-6] c.p.h.dao.UserDAO.queryUserByTel         : ==>  Preparing: select * from user where tel=? 
2018-12-28 14:12:59.092 DEBUG 10664 --- [http-nio-8080-exec-6] c.p.h.dao.UserDAO.queryUserByTel         : ==> Parameters: 17856690931(String)
2018-12-28 14:12:59.093 DEBUG 10664 --- [http-nio-8080-exec-6] c.p.h.dao.UserDAO.queryUserByTel         : <==      Total: 1
2018-12-28 14:12:59.101 DEBUG 10664 --- [http-nio-8080-exec-6] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:12:59.101 DEBUG 10664 --- [http-nio-8080-exec-6] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 2(Integer)
2018-12-28 14:12:59.102 DEBUG 10664 --- [http-nio-8080-exec-6] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:12:59.125 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.RoleDAO.queryRoleById          : ==>  Preparing: select * from role where id=? 
2018-12-28 14:12:59.126 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.RoleDAO.queryRoleById          : ==> Parameters: 2(Integer)
2018-12-28 14:12:59.127 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.RoleDAO.queryRoleById          : <==      Total: 1
2018-12-28 14:12:59.132 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:12:59.133 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 2(Integer)
2018-12-28 14:12:59.135 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:12:59.140 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.MessageDAO.queryAllMessages    : ==>  Preparing: select * from message m left join reply r on m.id=r.message_id group by m.id order by r.reply_time desc 
2018-12-28 14:12:59.141 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.MessageDAO.queryAllMessages    : ==> Parameters: 
2018-12-28 14:12:59.143 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.dao.MessageDAO.queryAllMessages    : <==      Total: 1
2018-12-28 14:12:59.154 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==>  Preparing: select max(reply_time) from reply where message_id=? 
2018-12-28 14:12:59.154 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==> Parameters: 34(String)
2018-12-28 14:12:59.155 DEBUG 10664 --- [http-nio-8080-exec-7] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : <==      Total: 1
2018-12-28 14:13:03.031 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.MessageDAO.queryMessageById    : ==>  Preparing: select * from message where id=? 
2018-12-28 14:13:03.032 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.MessageDAO.queryMessageById    : ==> Parameters: 34(Integer)
2018-12-28 14:13:03.033 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.MessageDAO.queryMessageById    : <==      Total: 1
2018-12-28 14:13:03.039 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==>  Preparing: select * from reply where message_id=? 
2018-12-28 14:13:03.039 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.ReplyDAO.queryReplyByMessage   : ==> Parameters: 34(Integer)
2018-12-28 14:13:03.041 DEBUG 10664 --- [http-nio-8080-exec-10] c.p.h.dao.ReplyDAO.queryReplyByMessage   : <==      Total: 1
2018-12-28 14:13:05.277 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.RoleDAO.queryRoleById          : ==>  Preparing: select * from role where id=? 
2018-12-28 14:13:05.278 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.RoleDAO.queryRoleById          : ==> Parameters: 2(Integer)
2018-12-28 14:13:05.279 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.RoleDAO.queryRoleById          : <==      Total: 1
2018-12-28 14:13:05.284 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.PowerDAO.queryPowerByRole      : ==>  Preparing: select * from power where role_id=? 
2018-12-28 14:13:05.285 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.PowerDAO.queryPowerByRole      : ==> Parameters: 2(Integer)
2018-12-28 14:13:05.286 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.PowerDAO.queryPowerByRole      : <==      Total: 1
2018-12-28 14:13:05.292 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.MessageDAO.queryAllMessages    : ==>  Preparing: select * from message m left join reply r on m.id=r.message_id group by m.id order by r.reply_time desc 
2018-12-28 14:13:05.292 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.MessageDAO.queryAllMessages    : ==> Parameters: 
2018-12-28 14:13:05.294 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.dao.MessageDAO.queryAllMessages    : <==      Total: 1
2018-12-28 14:13:05.306 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==>  Preparing: select max(reply_time) from reply where message_id=? 
2018-12-28 14:13:05.307 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : ==> Parameters: 34(String)
2018-12-28 14:13:05.308 DEBUG 10664 --- [http-nio-8080-exec-9] c.p.h.d.ReplyDAO.queryLastReplyTimeById  : <==      Total: 1
